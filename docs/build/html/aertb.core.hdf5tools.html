

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>aertb.core.hdf5tools &mdash; aertb 0.4.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="aertb.core.types" href="aertb.core.types.html" />
    <link rel="prev" title="aertb.core.const" href="aertb.core.const.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> aertb
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">The Library</a></li>
</ul>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="aertb.core.html">aertb.core</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="aertb.core.loaders.html">aertb.core.loaders</a></li>
<li class="toctree-l2"><a class="reference internal" href="aertb.core.processing.html">aertb.core.processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="aertb.core.const.html">aertb.core.const</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">aertb.core.hdf5tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="aertb.core.types.html">aertb.core.types</a></li>
<li class="toctree-l2"><a class="reference internal" href="aertb.core.viz.html">aertb.core.viz</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">CLI/Shell:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="shell.html">Shell</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">aertb</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="aertb.core.html">aertb.core</a> &raquo;</li>
        
      <li>aertb.core.hdf5tools</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/aertb.core.hdf5tools.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-aertb.core.hdf5tools">
<span id="aertb-core-hdf5tools"></span><h1>aertb.core.hdf5tools<a class="headerlink" href="#module-aertb.core.hdf5tools" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="aertb.core.hdf5tools.HDF5File">
<em class="property">class </em><code class="sig-prename descclassname">aertb.core.hdf5tools.</code><code class="sig-name descname">HDF5File</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">groups</span><span class="o">=</span><span class="default_value">'all'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#aertb.core.hdf5tools.HDF5File" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A wrapper offering useful methods over an HDF5 file, to access
the original file use the .file attribute</p>
<dl class="py method">
<dt id="aertb.core.hdf5tools.HDF5File.fixed_train_test_split">
<code class="sig-name descname">fixed_train_test_split</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n_train</span></em>, <em class="sig-param"><span class="n">n_test</span></em>, <em class="sig-param"><span class="n">rand</span><span class="o">=</span><span class="default_value">23</span></em><span class="sig-paren">)</span><a class="headerlink" href="#aertb.core.hdf5tools.HDF5File.fixed_train_test_split" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_train</strong> – number of train samples per group</p></li>
<li><p><strong>n_test</strong> – number of test samples per group</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="aertb.core.hdf5tools.HDF5File.get_file_stats">
<code class="sig-name descname">get_file_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aertb.core.hdf5tools.HDF5File.get_file_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary with key: group and value: sample count</p>
</dd></dl>

<dl class="py method">
<dt id="aertb.core.hdf5tools.HDF5File.get_sample_names">
<code class="sig-name descname">get_sample_names</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n_samples_group</span><span class="o">=</span><span class="default_value">'all'</span></em>, <em class="sig-param"><span class="n">rand</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#aertb.core.hdf5tools.HDF5File.get_sample_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the samples contained in the file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rand</strong> – if greater than zero it specifies the seed for the
random selection, if negative it is sequential</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="aertb.core.hdf5tools.HDF5File.iterator">
<code class="sig-name descname">iterator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n_samples_group</span><span class="o">=</span><span class="default_value">'all'</span></em>, <em class="sig-param"><span class="n">rand</span><span class="o">=</span><span class="default_value">23</span></em><span class="sig-paren">)</span><a class="headerlink" href="#aertb.core.hdf5tools.HDF5File.iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>returns an iterator over the file samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_samples_group</strong> (<em>str</em><em>, </em><em>optional</em>) – the samples to consider for each label group, by default ‘all’</p></li>
<li><p><strong>rand</strong> (<em>int</em><em>, </em><em>optional</em>) – a seed for shuffling, by default 23</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>it can be iterated with next() or a for loop</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>iterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="aertb.core.hdf5tools.HDF5File.load_events">
<code class="sig-name descname">load_events</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#aertb.core.hdf5tools.HDF5File.load_events" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group</strong> – the group/label of the sample to load</p></li>
<li><p><strong>name</strong> – the name of the sample to load</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a structured array of events</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="aertb.core.hdf5tools.HDF5File.train_test_split">
<code class="sig-name descname">train_test_split</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">test_percentage</span></em>, <em class="sig-param"><span class="n">stratify</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">rand</span><span class="o">=</span><span class="default_value">23</span></em><span class="sig-paren">)</span><a class="headerlink" href="#aertb.core.hdf5tools.HDF5File.train_test_split" title="Permalink to this definition">¶</a></dt>
<dd><p>creates a train/test split from a single HDF5 file,</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>test_percentage</strong> – specifies in a float [0.0, 1) how big should be
the test set</p></li>
<li><p><strong>groups</strong> – specify the groups as a list of strings from where the samples
should be taken, all other groups will be ignored</p></li>
<li><p><strong>statify</strong> – if stratify=True the percentages will be relative to the
class count and therefore the test set will have the same
distribution as the class count, otherwise the test samples
are taken randomly regardless of their class, in some scenarios
this may cause that some classes may not be in the test set</p></li>
<li><p><strong>rand</strong> – specifies the random seed for shuffling the samples, use negative
numbers or None to return samples in a sequential order</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="aertb.core.hdf5tools.HDF5FileIterator">
<em class="property">class </em><code class="sig-prename descclassname">aertb.core.hdf5tools.</code><code class="sig-name descname">HDF5FileIterator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">samples</span></em><span class="sig-paren">)</span><a class="headerlink" href="#aertb.core.hdf5tools.HDF5FileIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Returns an iterator over an HDF5 file, suggested usage is:</p>
<p>iterator = HDF5FileIterator(..)
for elem in iterator:</p>
<blockquote>
<div><p># do something …</p>
</div></blockquote>
<dl class="py method">
<dt id="aertb.core.hdf5tools.HDF5FileIterator.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aertb.core.hdf5tools.HDF5FileIterator.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the iterator</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="aertb.core.hdf5tools.create_hdf5_dataset">
<code class="sig-prename descclassname">aertb.core.hdf5tools.</code><code class="sig-name descname">create_hdf5_dataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dataset_name</span></em>, <em class="sig-param"><span class="n">file_or_dir</span></em>, <em class="sig-param"><span class="n">ext</span></em>, <em class="sig-param"><span class="n">polarities</span><span class="o">=</span><span class="default_value">[0, 1]</span></em>, <em class="sig-param"><span class="n">to_secs</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#aertb.core.hdf5tools.create_hdf5_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an HDF5 file with the specified name, for a parent
directory containing .dat files. It will create a different
group for each subdirectory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_name</strong> – the name of the HDF5 file with file extension</p></li>
<li><p><strong>parent_dir</strong> – the path pointing to the parent directory
where the dat files reside</p></li>
<li><p><strong>polarities</strong> – indicates the polarity encoding for the
data, it can be [0,1] or [-1,1]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="aertb.core.types.html" class="btn btn-neutral float-right" title="aertb.core.types" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="aertb.core.const.html" class="btn btn-neutral float-left" title="aertb.core.const" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Rafael Mosca

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>